<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Yousuli Bike Power Speed Calculator + Route Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts / Leaflet CSS -->
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Lato", sans-serif;
        font-size: 16px;
        background: #f4f4f4;
        color: #333;
        margin: 0;
        padding: 20px;
      }
      .wrapper__calc {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 30px;
        max-width: 1400px;
        width: 100%;
        margin: 0 auto;
      }
      .header__calc {
        text-align: center;
        margin-bottom: 20px;
      }
      .heading__primary--calc {
        color: #083258;
        font-size: 28px;
        text-transform: uppercase;
        margin-bottom: 10px;
        border-bottom: 2px solid #083258;
        display: inline-block;
        padding-bottom: 5px;
      }

      .route__selector {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        align-items: center;
        margin: 0 auto 18px auto;
        padding: 10px 12px;
        border-radius: 6px;
        background: #f8f7f1;
        font-size: 14px;
        max-width: 780px;
        justify-content: center;
      }
      .route__selector label {
        font-weight: 600;
        color: #333;
      }
      .route__selector input,
      .route__selector select,
      .route__selector button {
        padding: 6px 8px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 14px;
      }
      .route__selector input {
        min-width: 160px;
      }
      .route__selector button {
        background: #083258;
        color: #fff;
        cursor: pointer;
      }
      .route__selector button:hover {
        background: #0b447f;
      }
      .route__meta {
        font-size: 13px;
        color: #555;
        flex: 1 1 100%;
        margin-top: 4px;
      }

      .calcMode__wrapper {
        display: flex;
        justify-content: center;
        margin-bottom: 8px;
        margin-top: 8px;
      }
      .calcMode__box {
        background: #eef2ff;
        border-radius: 8px;
        padding: 12px 16px;
        max-width: 780px;
        width: 100%;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      }
      .calcMode__box .row__calc {
        margin-bottom: 8px;
      }
      .calcMode__inputs {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }
      .calcMode__inputs .row__calc {
        flex: 1 1 200px;
      }

      .advanced__wrapper {
        max-width: 780px;
        margin: 0 auto 18px auto;
        background: #f3f5ff;
        border-radius: 8px;
        padding: 12px 16px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        border: 1px solid #d5ddff;
      }
      .advanced__header {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-bottom: 8px;
      }
      .advanced__header .label__calc {
        font-weight: 600;
        font-size: 15px;
      }
      .advanced__note {
        font-size: 13px;
        color: #555;
      }
      .advanced__fields {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }
      .advanced__fields .row__calc {
        flex: 1 1 180px;
        margin-bottom: 6px;
      }

      .col__calc {
        display: grid;
        grid-template-columns: repeat(3, minmax(240px, 1fr));
        grid-gap: 20px;
      }
      .input__box--calc {
        background: #f8f7f1;
        border-radius: 5px;
        padding: 15px;
      }
      .row__calc {
        display: flex;
        flex-direction: column;
        margin-bottom: 10px;
      }
      .label__calc {
        font-size: 16px;
        color: #555;
        font-weight: 500;
        margin-bottom: 6px;
      }
      .combined__calc {
        position: relative;
      }
      .input__calc {
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        width: 100%;
        font-size: 16px;
      }
      .input__calc:focus {
        outline: none;
        border-color: #083258;
      }
      .unit__calc {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 15px;
        color: #666;
      }

      .combined__calc--time {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .combined__calc--time .input__calc {
        flex: 1;
        max-width: none;
      }
      .unit__calc--colon {
        margin: 0 4px;
        font-size: 18px;
        font-weight: bold;
      }

      .output__container--calc {
        width: 100%;
        padding: 20px;
        background: #fbfbfb;
        border-radius: 5px;
        margin-top: 20px;
      }
      .heading__tertiary--calc {
        font-size: 19px;
        text-transform: uppercase;
        color: #083258;
        margin-bottom: 15px;
      }
      .row__res--calc {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }
      .res__label {
        font-size: 18px;
        color: #555;
      }
      .res__value {
        font-size: 20px;
        font-weight: 700;
        color: #333;
      }

      .imperial__row {
        display: none;
      }
      .notes {
        font-size: 0.9rem;
        color: #555;
        margin-top: 14px;
        line-height: 1.45;
      }
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type="number"] {
        -moz-appearance: textfield;
      }

      .postcalc-wrapper {
        display: flex;
        flex-direction: column;
        gap: 18px;
        margin-top: 20px;
      }

      .courseToggleBtn {
        align-self: flex-start;
        margin-top: 8px;
        padding: 6px 12px;
        border-radius: 6px;
        border: 1px solid #083258;
        background: #fff;
        color: #083258;
        font-size: 14px;
        cursor: pointer;
      }
      .courseToggleBtn:hover {
        background: #083258;
        color: #fff;
      }
      .courseAnalysis {
        width: 100%;
      }
      .courseAnalysis--hidden {
        display: none;
      }

      .route__visuals {
        margin-top: 22px;
        display: grid;
        grid-template-columns: 1fr;
        gap: 18px;
        width: 100%;
      }
      #map {
        width: 100%;
        height: 360px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        background: #020617;
      }
      #chart-wrapper {
        background: #fff;
        border-radius: 10px;
        padding: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        height: 360px;
        display: flex;
        flex-direction: column;
        width: 100%;
      }
      #elevChart {
        width: 100%;
        flex: 1 1 auto;
      }
      .meta-bottom {
        font-size: 0.85rem;
        margin-top: 4px;
        color: #4b5563;
      }

      @media (max-width: 900px) {
        .col__calc {
          grid-template-columns: 1fr 1fr;
        }
        .route__visuals {
          grid-template-columns: 1fr;
        }
        #map,
        #chart-wrapper {
          height: 260px;
        }
      }
      @media (max-width: 550px) {
        .col__calc {
          grid-template-columns: 1fr;
        }
      }

      .advancedPacing__section {
        margin-top: 14px;
        padding: 12px 16px 16px 16px;
        background: #fafbff;
        border-radius: 8px;
        border: 1px solid #e0e4ff;
      }
      .advanced-pacing-placeholder {
        font-size: 13px;
        color: #555;
      }
      .advTable {
        width: 100%;
        border-collapse: collapse;
        font-size: 13px;
        margin-top: 6px;
      }
      .advTable th,
      .advTable td {
        border: 1px solid #ddd;
        padding: 4px 6px;
        text-align: right;
      }
      .advTable th {
        background: #f0f2ff;
        text-align: center;
      }
      .advTable td:first-child,
      .advTable th:first-child {
        text-align: center;
      }
      .advTable td:nth-child(5),
      .advTable th:nth-child(5) {
        text-align: left;
      }
      .advSummaryLine {
        margin-top: 6px;
        font-size: 13px;
        color: #444;
        text-align: right;
      }

      .techChallenges__section {
        margin-top: 14px;
        padding: 12px 16px 16px 16px;
        background: #fff7ed;
        border-radius: 8px;
        border: 1px solid #fed7aa;
      }
      .techChallenges__section h3 {
        font-size: 17px;
        text-transform: uppercase;
        color: #9a3412;
        margin-bottom: 8px;
      }
      .techChallenges__section h4 {
        font-size: 14px;
        margin: 10px 0 4px;
        color: #7c2d12;
      }
      .techTable {
        width: 100%;
        border-collapse: collapse;
        font-size: 13px;
        margin-top: 2px;
      }
      .techTable th,
      .techTable td {
        border: 1px solid #ddd;
        padding: 4px 6px;
        text-align: right;
      }
      .techTable th {
        background: #ffedd5;
        text-align: center;
      }
      .techTable td:first-child,
      .techTable th:first-child {
        text-align: center;
      }
      .techNote {
        font-size: 12px;
        color: #92400e;
        margin-top: 4px;
      }
    </style>
  </head>
  <body>
    <div id="yousuli-calc-root"></div>

    <!-- External libs -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Use .js until you actually minify -->
    <script src="yousuli-calc.js"></script>
  </body>
</html>